<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Popzy.js: Thư viện Modal JavaScript thuần siêu nhẹ chỉ 2kB</title>
    <meta
      name="description"
      content="Popzy.js là thư viện modal gọn nhẹ và thân thiện với người dùng được viết bằng JavaScript thuần. Được thiết kế cho trải nghiệm người dùng tuyệt vời (chỉ 2kB, không phụ thuộc, tùy chỉnh hoàn toàn bằng CSS)."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/highlight/styles.css" media="all" />
    <link rel="stylesheet" href="./assets/styles.css" media="all" />
    <link rel="stylesheet" href="./src/popzy.css" />
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <h1 class="header__title">Popzy.js</h1>
        <div class="header__tagline">
          Thư viện modal đơn giản và siêu nhẹ được xây dựng bằng JavaScript thuần.
        </div>
        <a
          href="https://github.com/JohnT6/popzy"
          class="header__github"
          target="_blank"
          ><img src="./assets/github.svg" alt="Xem trên GitHub"
        /></a>
      </div>
    </header>
    <div class="container content">
      <h2 data-bullet="1" class="title" id="try-it-out">Dùng Thử Ngay</h2>
      <p>
        Popzy là một <strong>thư viện modal</strong> siêu nhẹ được xây dựng bằng
        JavaScript thuần. (<a href="https://github.com/JohnT6/popzy">Mã nguồn có sẵn trên GitHub</a>)
      </p>

      <ul>
        <li>Không phụ thuộc thư viện khác (No dependencies)</li>
        <li>Hoàn toàn tùy chỉnh được bằng CSS</li>
        <li>Hỗ trợ hiệu ứng chuyển cảnh CSS (CSS transitions)</li>
        <li>API đơn giản và trực quan</li>
        <li>Không cần thêm file phụ trợ</li>
        <li>Tối ưu hóa trải nghiệm người dùng</li>
      </ul>

      <p>Dưới đây là một số ví dụ về cách sử dụng Popzy:</p>

      <button class="btn btn--primary btn-demo js-popzy-modal-1">
        Modal Cơ Bản
      </button>
      <button class="btn btn--secondary btn-demo js-popzy-modal-2">
        Modal Có Nút Bấm
      </button>
      <button class="btn btn--secondary btn-demo js-popzy-modal-3">
        Modal Nội Dung Dài
      </button>
      <button class="btn btn--secondary btn-demo js-popzy-modal-4">
        Modal Chỉ Đóng Bằng Footer
      </button>
      <button class="btn btn--secondary btn-demo js-popzy-modal-5">
        Modal Kiên Định (Giữ trong DOM)
      </button>
      <button class="btn btn--secondary btn-demo js-popzy-modal-6">
        Đa Modal
      </button>
      <button class="btn btn--secondary btn-demo js-popzy-modal-7">
        Modal Nhúng YouTube
      </button>

      <h2 data-bullet="2" class="title" id="installation">Cài Đặt</h2>
      <table class="methods">
        <thead>
          <tr>
            <th>Phương pháp</th>
            <th class="w60">Các bước</th>
          </tr>
        </thead>
        <tr>
          <td>Tải Trực Tiếp</td>
          <td>
            <a
              href="https://github.com/JohnT6/popzy/archive/refs/heads/main.zip"
              title="Tải xuống Popzy"
            >
              Tải xuống ZIP
            </a>
            <p>
              Chỉ cần giải nén file ZIP và sử dụng các file
              <code>popzy.min.js</code> và <code>popzy.min.css</code> trong dự
              án của bạn.
            </p>
          </td>
        </tr>
      </table>
      <p>
        Popzy cung cấp một file CSS nhỏ gọn mà bạn có thể nhúng trực tiếp qua
        link CDN. Điều này giúp bạn dễ dàng tích hợp vào dự án và tùy chỉnh khi
        cần thiết.
      </p>

      <p>Nhúng file JavaScript của Popzy vào dự án của bạn:</p>

      <pre class="html"><code>&lt;script src=&quot;https://cdn.jsdelivr.net/gh/sondnpt00343/popzy@v1.0.1/popzy.min.js&quot;&gt;&lt;/script&gt;</code></pre>

      <p>Tùy chọn, nhúng file CSS của Popzy để có kiểu dáng mặc định:</p>

      <pre class="html"><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/sondnpt00343/popzy@v1.0.1/popzy.min.css&quot;&gt;</code></pre>

      <p>
        Bạn có thể khám phá danh sách các class CSS được Popzy sử dụng trong
        phần <a href="#styling">Tùy Chỉnh Kiểu Dáng</a> để dễ dàng chỉnh sửa
        chúng theo nhu cầu.
      </p>

      <blockquote>
        Bạn có thể sử dụng các phiên bản
        <a href="https://github.com/sondnpt00343/popzy/releases" target="_blank">đã phát hành</a>
        của Popzy có sẵn tại đây.
      </blockquote>

      <h2 data-bullet="3" class="title" id="usage">Cách Sử Dụng</h2>
      <pre class="javascript"><code>// Khởi tạo một modal mới
const modal = new Popzy({
    content: '&lt;h1&gt;Đây là nội dung&lt;/h1&gt;',
    // templateId: 'my-modal-template',
    footer: true,
    destroyOnClose: false,
    closeMethods: ['overlay', 'button', 'escape'],
    cssClass: ['custom-class-1', 'custom-class-2'],
    onOpen: function() {
        console.log('Modal đã mở');
    },
    onClose: function() {
        console.log('Modal đã đóng');
    },
});

// Đặt nội dung cho modal
modal.setContent('&lt;h1&gt;Đây là nội dung mới&lt;/h1&gt;');

// Thêm nút bấm vào footer
modal.addFooterBtn('Hủy', 'btn btn--default', function(e) {
    modal.close();
});

modal.addFooterBtn('Xác nhận', 'btn btn--primary', function(e) {
    modal.close();
});

// Mở modal
modal.open();

// Đóng modal
modal.close();</code></pre>

      <p>
        Nếu bạn sử dụng <code>templateId</code>, hãy đảm bảo rằng một phần tử
        <code>&lt;template&gt;</code> với <code>id</code> tương ứng tồn tại
        trong HTML của bạn. Dưới đây là một ví dụ:
      </p>

      <pre class="html"><code>&lt;template id="my-modal-template"&gt;
    &lt;div&gt;
        &lt;h1&gt;Đây là nội dung modal&lt;/h1&gt;
        &lt;p&gt;Bạn có thể thêm bất kỳ HTML nào vào đây.&lt;/p&gt;
    &lt;/div&gt;
&lt;/template&gt;</code></pre>

      <p>
        <strong>Lưu ý:</strong> Khi sử dụng <code>templateId</code>, đừng cung
        cấp <code>content</code>. Nếu cả hai đều được chỉ định,
        <code>content</code> sẽ được ưu tiên, và <code>templateId</code> sẽ bị
        bỏ qua.
      </p>

      <h2 data-bullet="4" class="title" id="options">Các Tùy Chọn (Options)</h2>
      <table class="methods">
        <thead>
          <tr>
            <th>Tùy chọn</th>
            <th>Kiểu dữ liệu</th>
            <th class="w60">Mô tả</th>
          </tr>
        </thead>
        <tr>
          <td>content, templateId</td>
          <td>string</td>
          <td>
            Bắt buộc phải có một trong hai <code>content</code> hoặc
            <code>templateId</code> để thiết lập nội dung modal.
            <code>content</code> nhận một chuỗi HTML, trong khi
            <code>templateId</code> chỉ định ID của một phần tử template. Nếu cả
            hai được cung cấp, <code>content</code> sẽ được ưu tiên.
          </td>
        </tr>
        <tr>
          <td>cssClass</td>
          <td>array</td>
          <td>
            Các class CSS tùy chỉnh được áp dụng cho container của modal (mặc
            định: <code>[]</code>)
          </td>
        </tr>
        <tr>
          <td>footer</td>
          <td>boolean</td>
          <td>
            Hiển thị footer trong modal (mặc định: <code>false</code>)
          </td>
        </tr>
        <tr>
          <td>destroyOnClose</td>
          <td>boolean</td>
          <td>
            Quyết định xem modal có bị xóa khỏi DOM khi đóng hay không (mặc
            định: <code>true</code>)
          </td>
        </tr>
        <tr>
          <td>closeMethods</td>
          <td>array</td>
          <td>
            Xác định các phương pháp để đóng modal (mặc định:
            <code>['overlay', 'button', 'escape']</code>)
          </td>
        </tr>
        <tr>
          <td>enableScrollLock</td>
          <td>boolean</td>
          <td>
            Bật hoặc tắt tính năng khóa cuộn trang khi modal đang mở. Khi được
            đặt là <code>true</code>, nó ngăn việc cuộn trên phần tử mục tiêu
            được chỉ định bởi <code>scrollLockTarget</code>. Mặc định:
            <code>true</code>.
          </td>
        </tr>
        <tr>
          <td>scrollLockTarget</td>
          <td>function</td>
          <td>
            Một hàm callback trả về phần tử để áp dụng khóa cuộn. Theo mặc định,
            nó khóa cuộn trên <code>document.body</code>.
          </td>
        </tr>
        <tr>
          <td>onOpen</td>
          <td>function</td>
          <td>
            Hàm callback được thực thi khi modal mở ra (sau khi hiệu ứng chuyển
            cảnh kết thúc) (mặc định: <code>undefined</code>)
          </td>
        </tr>
        <tr>
          <td>onClose</td>
          <td>function</td>
          <td>
            Hàm callback được thực thi khi modal đóng lại (mặc định:
            <code>undefined</code>)
          </td>
        </tr>
      </table>

      <h2 data-bullet="5" class="title" id="styling">
        Tùy Chỉnh Kiểu Dáng (Styling)
      </h2>
      <p>
        Các kiểu dáng của Popzy được định nghĩa trong CSS. Bạn có thể hoàn toàn
        tùy chỉnh nó để đáp ứng các yêu cầu thiết kế của mình.
      </p>

      <table class="methods">
        <thead>
          <tr>
            <th>Tên Class</th>
            <th style="width: 70%">Mô tả/Vai trò</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>.popzy</code></td>
            <td>
              Định kiểu cho lớp phủ nền (backdrop) của modal. Xử lý vị trí, căn
              giữa modal và áp dụng nền bán trong suốt.
            </td>
          </tr>
          <tr>
            <td><code>.popzy--show</code></td>
            <td>
              Được áp dụng khi modal hiển thị. Kiểm soát khả năng hiển thị và độ
              mờ (opacity) của backdrop.
            </td>
          </tr>
          <tr>
            <td><code>.popzy__container</code></td>
            <td>
              Định kiểu cho container của modal, bao gồm kích thước, padding, bo
              góc, và hiệu ứng transform để phóng to/thu nhỏ.
            </td>
          </tr>
          <tr>
            <td><code>.popzy__close</code></td>
            <td>
              Định kiểu cho nút đóng bên trong modal, bao gồm kích thước, vị trí
              và hiệu ứng hover.
            </td>
          </tr>
          <tr>
            <td><code>.popzy__content</code></td>
            <td>
              Xử lý khu vực nội dung chính của modal, bao gồm hành vi cuộn với
              chiều cao tối đa.
            </td>
          </tr>
          <tr>
            <td><code>.popzy__footer</code></td>
            <td>
              Định kiểu cho footer của modal, căn chỉnh các nút sang bên phải và
              thêm khoảng cách giữa chúng.
            </td>
          </tr>
          <tr>
            <td><code>.popzy--no-scroll</code></td>
            <td>
              Vô hiệu hóa việc cuộn trên phần tử mục tiêu được chỉ định bởi
              <code>scrollLockTarget</code> khi modal đang mở.
            </td>
          </tr>
        </tbody>
      </table>

      <p>
        Để biết thêm chi tiết, bạn có thể xem trực tiếp file CSS đầy đủ tại đây:
        <a
          href="https://github.com/sondnpt00343/popzy/blob/main/src/popzy.css"
          target="_blank"
          >popzy.css</a
        >.
      </p>

      <h2 data-bullet="6" class="title" id="api">API</h2>
      <table class="methods">
        <thead>
          <tr>
            <th>Phương thức</th>
            <th class="w60">Mô tả</th>
          </tr>
        </thead>
        <tr>
          <td>open()</td>
          <td>
            Mở modal và kích hoạt callback <code>onOpen</code>.
          </td>
        </tr>
        <tr>
          <td>close()</td>
          <td>
            Đóng modal và kích hoạt callback <code>onClose</code>. Nếu
            <code>close(true)</code> được gọi, nó hoạt động giống như
            <code>destroy()</code>, xóa modal khỏi DOM.
          </td>
        </tr>
        <tr>
          <td>setContent(content)</td>
          <td>Cập nhật nội dung modal.</td>
        </tr>
        <tr>
          <td>setFooterContent(content)</td>
          <td>Cập nhật nội dung footer.</td>
        </tr>
        <tr>
          <td>addFooterBtn(label, cssClass, callback)</td>
          <td>Thêm một nút vào footer với hàm callback.</td>
        </tr>
        <tr>
          <td>destroy()</td>
          <td>
            Xóa hoàn toàn các phần tử modal khỏi DOM và gỡ bỏ tất cả các sự kiện
            liên quan.
          </td>
        </tr>
      </table>

      <footer class="footer">
        <p>
          Đây là một dự án nhỏ nằm trong phần "Thực hành với DOM" của khóa học
          JavaScript Pro.
        </p>
        <p>
          Tìm hiểu thêm tại
          <a
            href="https://fullstack.edu.vn/landing/javascript"
            target="_blank"
          >
            JavaScript Pro</a
          >.
        </p>
      </footer>
    </div>
    <script src="./assets/highlight/highlight.js"></script>
    <script src="./src/popzy.js"></script>
    <script>
      // Highlight code
      hljs.initHighlightingOnLoad();

      // Modal samples

      // Basic Modal
      const modal1Btn = document.querySelector(".js-popzy-modal-1");
      const modal1 = new Popzy({
        content: `
                    <h1>Modal Cơ Bản</h1>
                    <p>Đây là một modal đơn giản. Bạn có thể tùy chỉnh nội dung theo yêu cầu của mình.</p>
                `,
      });
      modal1Btn.onclick = () => {
        modal1.open();
      };

      // Modal with Buttons
      const modal2Btn = document.querySelector(".js-popzy-modal-2");
      const modal2 = new Popzy({
        content: `
                    <h1>Modal Có Nút Bấm</h1>
                    <p>Modal này bao gồm các nút chức năng để thực hiện hành động như hủy bỏ hoặc xác nhận.</p>
                `,
        footer: true,
      });
      modal2.addFooterButton("Hủy", "modal-btn", () => {
        modal2.close();
      });
      modal2.addFooterButton("Xác nhận", "modal-btn primary", () => {
        console.log("Hành động đã được xác nhận!");
        modal2.close();
      });
      modal2Btn.onclick = () => {
        modal2.open();
      };

      // Large Content Modal
      const modal3Btn = document.querySelector(".js-popzy-modal-3");
      const modal3 = new Popzy({
        content: `
                    <h1>Modal Nội Dung Dài</h1>
                    <p>Modal này chứa một lượng lớn nội dung, phù hợp để hiển thị văn bản dài hoặc thông tin chi tiết.</p>
                    <p>Vui lòng cuộn xuống để xem toàn bộ nội dung.</p>
                    <p>Nội dung có thể bao gồm nhiều đoạn văn, hình ảnh hoặc các thông tin chi tiết khác.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil cumque adipisci mollitia voluptatibus explicabo non perspiciatis eaque sed qui. Est.</p>
                `,
      });
      modal3Btn.onclick = () => {
        modal3.open();
      };

      // Footer-Only Close Modal
      const modal4Btn = document.querySelector(".js-popzy-modal-4");
      const modal4 = new Popzy({
        content: `
                    <h1>Modal Chỉ Đóng Bằng Footer</h1>
                    <p>Modal này chỉ có thể được đóng thông qua nút ở footer để kiểm soát trải nghiệm người dùng.</p>
                `,
        footer: true,
        closeMethods: [],
      });
      modal4.addFooterButton("Đóng", "modal-btn", () => {
        modal4.close();
      });
      modal4Btn.onclick = () => {
        modal4.open();
      };

      // Persistent Modal
      const modal5Btn = document.querySelector(".js-popzy-modal-5");
      const modal5 = new Popzy({
        content: `
                    <h1>Modal Kiên Định</h1>
                    <p>Modal này vẫn ở trong DOM ngay cả sau khi đóng, cho phép bạn mở lại mà không mất bất kỳ thay đổi nào.</p>
                    <p>Bạn có thể viết gì đó vào ô input bên dưới, đóng modal và mở lại để thấy nội dung vẫn còn nguyên.</p>
                    <input type="text" placeholder="Nhập gì đó vào đây..." class="modal-input" style="width: 100%; padding: 10px; margin-top: 10px;" />
                `,
        destroyOnClose: false,
      });
      modal5Btn.onclick = () => {
        modal5.open();
      };

      // Multiple Modals
      const modal6Btn = document.querySelector(".js-popzy-modal-6");
      const modal6 = new Popzy({
        content: `
                    <h1>Đa Modal</h1>
                    <p>Modal này minh họa sự tương tác giữa nhiều modal. Bạn có thể mở một modal khác từ đây.</p>
                    <button class="btn" onclick="modal1.open();">Mở Modal Cơ Bản</button>
                `,
      });
      modal6Btn.onclick = () => {
        modal6.open();
      };

      // Youtube Embed Modal
      const modal7Btn = document.querySelector(".js-popzy-modal-7");
      const modal7 = new Popzy({
        content: `<iframe width="560" height="315" src="https://www.youtube.com/embed/RDfwGkasp58?si=g8qSqHld--Uimjme" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
      });
      modal7Btn.onclick = () => {
        modal7.open();
      };
    </script>
  </body>
</html> 

